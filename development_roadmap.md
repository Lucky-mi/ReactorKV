# ReactorKV å¼€å‘è·¯çº¿å›¾

> **ç›®æ ‡**ï¼šåŸºäº Reactor æ¨¡å¼çš„é«˜æ€§èƒ½ KV å­˜å‚¨å¼•æ“
> **æŠ€æœ¯æ ˆ**ï¼šC++14 / Linux / Epoll (ET) / è·³è¡¨ / å¤šçº¿ç¨‹

---

## ğŸ—ºï¸ æ•´ä½“å¼€å‘è·¯çº¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            å¼€å‘é˜¶æ®µæ€»è§ˆ                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   Phase 1          Phase 2          Phase 3          Phase 4                â”‚
â”‚   åŸºç¡€è®¾æ–½    â”€â”€â–¶   å­˜å‚¨å¼•æ“    â”€â”€â–¶   ç½‘ç»œæ ¸å¿ƒ    â”€â”€â–¶   åè®®é›†æˆ             â”‚
â”‚   (1-2å‘¨)          (1-2å‘¨)          (2-3å‘¨)          (1-2å‘¨)                â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚CMake    â”‚     â”‚SkipList â”‚     â”‚Channel  â”‚     â”‚Protocol â”‚              â”‚
â”‚   â”‚Logger   â”‚     â”‚KVStore  â”‚     â”‚Poller   â”‚     â”‚Codec    â”‚              â”‚
â”‚   â”‚Thread   â”‚     â”‚æŒä¹…åŒ–   â”‚     â”‚EventLoopâ”‚     â”‚Server   â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚Buffer   â”‚     â”‚Client   â”‚              â”‚
â”‚                                   â”‚TcpServerâ”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                              â”‚
â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                                         â”‚Phase 5  â”‚                         â”‚
â”‚                                         â”‚æµ‹è¯•ä¼˜åŒ– â”‚                         â”‚
â”‚                                         â”‚(1å‘¨)    â”‚                         â”‚
â”‚                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Phase 1: åŸºç¡€è®¾æ–½ (Week 1-2)

### å¼€å‘é¡ºåº

```
CMakeLists.txt â”€â”€â–¶ noncopyable.h â”€â”€â–¶ types.h â”€â”€â–¶ Timestamp â”€â”€â–¶ Logger
                                                                 â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–¼
CurrentThread â”€â”€â–¶ MutexLock â”€â”€â–¶ Condition â”€â”€â–¶ Thread â”€â”€â–¶ ThreadPool
```

### æ¨¡å—æ¸…å•

| # | æ¨¡å— | æ–‡ä»¶ | ä¾èµ– | éªŒæ”¶æ ‡å‡† |
|---|------|------|------|----------|
| 1 | æ„å»ºç³»ç»Ÿ | `CMakeLists.txt` | æ—  | `cmake && make` æˆåŠŸ |
| 2 | ä¸å¯æ‹·è´åŸºç±» | `noncopyable.h` | æ—  | ç¼–è¯‘é€šè¿‡ |
| 3 | ç±»å‹å®šä¹‰ | `types.h` | æ—  | ç¼–è¯‘é€šè¿‡ |
| 4 | æ—¶é—´æˆ³ | `timestamp.h/cpp` | æ—  | å•å…ƒæµ‹è¯•é€šè¿‡ |
| 5 | æ—¥å¿—ç³»ç»Ÿ | `logger.h/cpp` | Timestamp | `LOG_INFO << "test"` æ­£å¸¸è¾“å‡º |
| 6 | çº¿ç¨‹ä¿¡æ¯ | `current_thread.h` | æ—  | è·å– tid æ­£ç¡® |
| 7 | äº’æ–¥é” | `mutex.h` | noncopyable | åŠ é”è§£é”æ­£å¸¸ |
| 8 | æ¡ä»¶å˜é‡ | `condition.h` | MutexLock | wait/notify æ­£å¸¸ |
| 9 | çº¿ç¨‹å°è£… | `thread.h/cpp` | MutexLock | çº¿ç¨‹å¯åœæ­£å¸¸ |
| 10 | çº¿ç¨‹æ±  | `threadpool.h/cpp` | Thread, BlockingQueue | ä»»åŠ¡æ‰§è¡Œæ­£ç¡® |

### é˜¶æ®µéªŒæ”¶
- [ ] æ‰€æœ‰ base/ æ¨¡å—ç¼–è¯‘é€šè¿‡
- [ ] æ—¥å¿—ç³»ç»Ÿå¯è¾“å‡ºå¸¦æ—¶é—´æˆ³çš„æ—¥å¿—
- [ ] çº¿ç¨‹æ± å¯æ­£ç¡®æ‰§è¡Œå¹¶å‘ä»»åŠ¡
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%

---

## ğŸ“¦ Phase 2: å­˜å‚¨å¼•æ“ (Week 3-4)

### å¼€å‘é¡ºåº

```
SkipList<K,V> â”€â”€â–¶ å•å…ƒæµ‹è¯• â”€â”€â–¶ KVStore â”€â”€â–¶ Persistence (æŒä¹…åŒ–)
```

### æ¨¡å—æ¸…å•

| # | æ¨¡å— | æ–‡ä»¶ | ä¾èµ– | éªŒæ”¶æ ‡å‡† |
|---|------|------|------|----------|
| 1 | è·³è¡¨æ•°æ®ç»“æ„ | `skiplist.h` | MutexLock | æ’å…¥/æŸ¥è¯¢/åˆ é™¤ O(logN) |
| 2 | è·³è¡¨æµ‹è¯• | `skiplist_test.cpp` | SkipList | 100ä¸‡æ•°æ®æµ‹è¯•é€šè¿‡ |
| 3 | KVå­˜å‚¨å°è£… | `kvstore.h/cpp` | SkipList | put/get/del æ­£å¸¸ |
| 4 | æ•°æ®æŒä¹…åŒ– | `persistence.h/cpp` | KVStore | è½ç›˜å’ŒåŠ è½½æ­£ç¡® |

### é˜¶æ®µéªŒæ”¶
- [ ] è·³è¡¨æ”¯æŒçº¿ç¨‹å®‰å…¨çš„ CRUD æ“ä½œ
- [ ] 100ä¸‡æ¡æ•°æ®æ’å…¥åæŸ¥è¯¢æ­£ç¡®
- [ ] æ•°æ®å¯æŒä¹…åŒ–åˆ°æ–‡ä»¶ï¼Œé‡å¯ååŠ è½½æ­£ç¡®
- [ ] å†…å­˜ç®¡ç†ä½¿ç”¨ shared_ptrï¼Œæ— æ³„æ¼

---

## ğŸ“¦ Phase 3: ç½‘ç»œæ ¸å¿ƒ (Week 5-7) â­å…³é”®é˜¶æ®µ

### å¼€å‘é¡ºåº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: åŸºç¡€ç½‘ç»œç»„ä»¶                                                 â”‚
â”‚                                                                      â”‚
â”‚   InetAddress â”€â”€â–¶ Socket â”€â”€â–¶ Channel                                â”‚
â”‚                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Step 2: IOå¤šè·¯å¤ç”¨                                                   â”‚
â”‚                                                                      â”‚
â”‚   Channel â”€â”€â–¶ EpollPoller â”€â”€â–¶ EventLoop                             â”‚
â”‚                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Step 3: è·¨çº¿ç¨‹è°ƒç”¨æœºåˆ¶                                               â”‚
â”‚                                                                      â”‚
â”‚   EventLoop â”€â”€â–¶ wakeup (eventfd) â”€â”€â–¶ runInLoop/queueInLoop          â”‚
â”‚                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Step 4: ç¼“å†²åŒºä¸è¿æ¥                                                 â”‚
â”‚                                                                      â”‚
â”‚   Buffer â”€â”€â–¶ TcpConnection                                          â”‚
â”‚                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Step 5: æœåŠ¡å™¨ç»„ä»¶                                                   â”‚
â”‚                                                                      â”‚
â”‚   Acceptor â”€â”€â–¶ EventLoopThread â”€â”€â–¶ EventLoopThreadPool â”€â”€â–¶ TcpServerâ”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—æ¸…å•

| # | æ¨¡å— | æ–‡ä»¶ | ä¾èµ– | éªŒæ”¶æ ‡å‡† |
|---|------|------|------|----------|
| 1 | ç½‘ç»œåœ°å€ | `inetaddress.h/cpp` | æ—  | IP/Port è§£ææ­£ç¡® |
| 2 | Socketå°è£… | `socket.h/cpp` | InetAddress | bind/listen/accept æ­£å¸¸ |
| 3 | äº‹ä»¶é€šé“ | `channel.h/cpp` | noncopyable | äº‹ä»¶å›è°ƒæ­£å¸¸ |
| 4 | Epollå°è£… | `epollpoller.h/cpp` | Channel | ETæ¨¡å¼äº‹ä»¶è§¦å‘æ­£ç¡® |
| 5 | äº‹ä»¶å¾ªç¯ | `eventloop.h/cpp` | EpollPoller | å•çº¿ç¨‹äº‹ä»¶å¾ªç¯è¿è¡Œ |
| 6 | å”¤é†’æœºåˆ¶ | eventloop å†…éƒ¨ | eventfd | è·¨çº¿ç¨‹å”¤é†’æ­£å¸¸ |
| 7 | åº”ç”¨å±‚Buffer | `buffer.h/cpp` | æ—  | readFd/writeFd æ­£å¸¸ |
| 8 | TCPè¿æ¥ | `tcpconnection.h/cpp` | Buffer, Channel | è¯»å†™æ•°æ®æ­£ç¡® |
| 9 | è¿æ¥æ¥å—å™¨ | `acceptor.h/cpp` | Socket, Channel | æ–°è¿æ¥å›è°ƒæ­£å¸¸ |
| 10 | äº‹ä»¶å¾ªç¯çº¿ç¨‹ | `eventloopthread.h/cpp` | EventLoop, Thread | ç‹¬ç«‹çº¿ç¨‹è¿è¡Œ |
| 11 | çº¿ç¨‹æ±  | `eventloopthreadpool.h/cpp` | EventLoopThread | å¤š Reactor è¿è¡Œ |
| 12 | TCPæœåŠ¡å™¨ | `tcpserver.h/cpp` | å…¨éƒ¨ | Echo Server æ­£å¸¸å·¥ä½œ |

### é˜¶æ®µéªŒæ”¶
- [ ] å•çº¿ç¨‹ Reactor å¯å¤„ç†å¤šä¸ªè¿æ¥
- [ ] å¤šçº¿ç¨‹ Reactor (1 Main + N Sub) æ­£å¸¸å·¥ä½œ
- [ ] Echo Server å¯å¤„ç† 1000+ å¹¶å‘è¿æ¥
- [ ] ç²˜åŒ…/åŠåŒ…å¤„ç†æ­£ç¡®

---

## ğŸ“¦ Phase 4: åè®®ä¸é›†æˆ (Week 8-9)

### å¼€å‘é¡ºåº

```
åè®®è®¾è®¡ â”€â”€â–¶ Message â”€â”€â–¶ Codec â”€â”€â–¶ KVServer â”€â”€â–¶ KVClient
                                       â”‚
                                       â–¼
                               é›†æˆ KVStore + TcpServer
```

### æ¨¡å—æ¸…å•

| # | æ¨¡å— | æ–‡ä»¶ | ä¾èµ– | éªŒæ”¶æ ‡å‡† |
|---|------|------|------|----------|
| 1 | æ¶ˆæ¯ç»“æ„ | `message.h` | æ—  | å®šä¹‰ Request/Response |
| 2 | åè®®å®šä¹‰ | `kvprotocol.h/cpp` | Message | encode/decode æ­£ç¡® |
| 3 | ç¼–è§£ç å™¨ | `codec.h/cpp` | KVProtocol, Buffer | åè®®è§£ææ­£ç¡® |
| 4 | KVæœåŠ¡å™¨ | `kvserver.h/cpp` | TcpServer, KVStore, Codec | PUT/GET/DEL å“åº”æ­£ç¡® |
| 5 | KVå®¢æˆ·ç«¯ | `kvclient.h/cpp` | Socket | å‘½ä»¤è¡Œäº¤äº’æ­£å¸¸ |

### é˜¶æ®µéªŒæ”¶
- [ ] åè®®æ”¯æŒ PUT/GET/DEL/EXISTS å‘½ä»¤
- [ ] å®¢æˆ·ç«¯å¯æ­£ç¡®å‘é€è¯·æ±‚å¹¶æ¥æ”¶å“åº”
- [ ] å¤šå®¢æˆ·ç«¯å¹¶å‘è®¿é—®æ­£å¸¸
- [ ] ä¸šåŠ¡çº¿ç¨‹æ± å¤„ç† CPU å¯†é›†ä»»åŠ¡

---

## ğŸ“¦ Phase 5: æµ‹è¯•ä¸ä¼˜åŒ– (Week 10)

### å¼€å‘é¡ºåº

```
åŠŸèƒ½æµ‹è¯• â”€â”€â–¶ å‹åŠ›æµ‹è¯• â”€â”€â–¶ å†…å­˜æ£€æµ‹ â”€â”€â–¶ æ€§èƒ½ä¼˜åŒ– â”€â”€â–¶ æ–‡æ¡£ç¼–å†™
```

### ä»»åŠ¡æ¸…å•

| # | ä»»åŠ¡ | å·¥å…· | ç›®æ ‡ |
|---|------|------|------|
| 1 | å•å…ƒæµ‹è¯• | GoogleTest | è¦†ç›–ç‡ > 80% |
| 2 | å‹åŠ›æµ‹è¯• | è‡ªå®šä¹‰ benchmark | å†™ QPS > 20ä¸‡ |
| 3 | å†…å­˜æ£€æµ‹ | Valgrind | 0 å†…å­˜æ³„æ¼ |
| 4 | è°ƒè¯• | GDB | æ—  coredump |
| 5 | æ–‡æ¡£ | Markdown | README + API Doc |

### é˜¶æ®µéªŒæ”¶
- [ ] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] å‹æµ‹ QPS è¾¾æ ‡
- [ ] Valgrind æ— å†…å­˜æ³„æ¼
- [ ] README æ–‡æ¡£å®Œå–„

---

## ğŸ”— æ¨¡å—ä¾èµ–å…³ç³»å›¾

```
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚              Application                â”‚
                         â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
                         â”‚     â”‚         KVServer            â”‚     â”‚
                         â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                         â”‚                    â”‚                     â”‚
                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                         â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
                         â”‚          â–¼                   â–¼           â”‚
                         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
                         â”‚    â”‚TcpServer â”‚       â”‚ KVStore  â”‚       â”‚
                         â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚
                         â”‚         â”‚                  â”‚             â”‚
                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                         â”‚         â–¼                  â–¼             â”‚
                         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
                         â”‚  â”‚EventLoopThread â”‚  â”‚ SkipList â”‚        â”‚
                         â”‚  â”‚     Pool       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                         â”‚          â”‚                               â”‚
                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                         â”‚          â–¼                               â”‚
                         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
                         â”‚    â”‚ EventLoop â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
                         â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚                â”‚
                         â”‚          â”‚              â”‚                â”‚
                         â”‚    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”          â”‚
                         â”‚    â–¼           â–¼  â–¼           â”‚          â”‚
                         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                         â”‚ â”‚Pollerâ”‚ â”‚TcpConnectâ”‚ â”‚  Acceptor â”‚      â”‚
                         â”‚ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â”‚
                         â”‚    â”‚          â”‚             â”‚            â”‚
                         â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                         â”‚    â–¼          â–¼             â–¼            â”‚
                         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
                         â”‚ â”‚Epoll â”‚  â”‚Bufferâ”‚     â”‚ Socket â”‚        â”‚
                         â”‚ â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                         â”‚                                          â”‚
                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                         â”‚    â”‚ Logger â”‚  â”‚ Thread â”‚  â”‚MutexLockâ”‚   â”‚
                         â”‚    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â”‚
                         â”‚        â”‚           â”‚            â”‚        â”‚
                         â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                         â”‚                    â–¼                     â”‚
                         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
                         â”‚              â”‚   Base    â”‚               â”‚
                         â”‚              â”‚(Timestamp,â”‚               â”‚
                         â”‚              â”‚noncopyable)â”‚              â”‚
                         â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Git æäº¤è§„èŒƒ

### åˆ†æ”¯ç­–ç•¥
- `main`: ç¨³å®šç‰ˆæœ¬
- `dev`: å¼€å‘åˆ†æ”¯
- `feature/xxx`: åŠŸèƒ½åˆ†æ”¯ (å¦‚ `feature/skiplist`)

### æäº¤æ ¼å¼
```
<type>(<scope>): <subject>

# ç±»å‹
feat:     æ–°åŠŸèƒ½
fix:      Bug ä¿®å¤
refactor: é‡æ„
test:     æµ‹è¯•
docs:     æ–‡æ¡£
chore:    æ„å»º/å·¥å…·

# ç¤ºä¾‹
feat(storage): implement SkipList insert and search
fix(net): fix Buffer readFd EAGAIN handling
test(base): add Logger unit tests
```

### é‡Œç¨‹ç¢‘æ ‡ç­¾
- `v0.1.0`: Phase 1 å®Œæˆ (åŸºç¡€è®¾æ–½)
- `v0.2.0`: Phase 2 å®Œæˆ (å­˜å‚¨å¼•æ“)
- `v0.3.0`: Phase 3 å®Œæˆ (ç½‘ç»œæ ¸å¿ƒ)
- `v0.4.0`: Phase 4 å®Œæˆ (åè®®é›†æˆ)
- `v1.0.0`: Phase 5 å®Œæˆ (æ­£å¼å‘å¸ƒ)

---

## ğŸ“š å‚è€ƒèµ„æ–™

| èµ„æº | è¯´æ˜ |
|------|------|
| [muduo ç½‘ç»œåº“](https://github.com/chenshuo/muduo) | æ ¸å¿ƒå‚è€ƒå®ç° |
| [Skiplist-CPP](https://github.com/youngyangyang04/Skiplist-CPP) | è·³è¡¨å‚è€ƒ |
| ã€ŠLinuxå¤šçº¿ç¨‹æœåŠ¡ç«¯ç¼–ç¨‹ã€‹ | é™ˆç¡•è‘—ï¼Œå¿…è¯» |

---

## âœ… é¡¹ç›®æ£€æŸ¥æ¸…å•

### ä»£ç è´¨é‡
- [ ] ä»£ç ç¬¦åˆ Google C++ Style
- [ ] æ‰€æœ‰ç±»æœ‰å®Œæ•´æ³¨é‡Š
- [ ] æ— ç¼–è¯‘è­¦å‘Š (-Wall -Werror)

### åŠŸèƒ½å®Œæ•´
- [ ] KV åŸºæœ¬æ“ä½œ (PUT/GET/DEL)
- [ ] æ•°æ®æŒä¹…åŒ–
- [ ] å¤šå®¢æˆ·ç«¯å¹¶å‘

### æ€§èƒ½æŒ‡æ ‡
- [ ] å†™å…¥ QPS > 20ä¸‡
- [ ] è¯»å– QPS > 15ä¸‡
- [ ] æ”¯æŒ 10000+ å¹¶å‘è¿æ¥

### è´¨é‡ä¿éšœ
- [ ] å•å…ƒæµ‹è¯•è¦†ç›– > 80%
- [ ] Valgrind æ— å†…å­˜æ³„æ¼
- [ ] æ—  GDB è°ƒè¯•å¼‚å¸¸
